<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elo Difference Calculator</title>
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <header>
      <h1>Elo Difference Calculator</h1>
    </header>

    <main class="container">
      <section class="input-group">
        <h3>Win–Draw–Loss Model</h3>
        <form
          onsubmit="
            event.preventDefault();
            calculateWDLElo();
          "
        >
          <fieldset>
            <legend>Results</legend>

            <label>
              Losses
              <input id="losses" type="number" min="0" required />
            </label>

            <label>
              Draws
              <input id="draws" type="number" min="0" required />
            </label>

            <label>
              Wins
              <input id="wins" type="number" min="0" required />
            </label>
          </fieldset>

          <fieldset>
            <legend>Parameters</legend>

            <label>
              elo0
              <input id="elo0wdl" type="number" step="any" value="0" required />
            </label>

            <label>
              elo1
              <input id="elo1wdl" type="number" step="any" value="0" required />
            </label>

            <label>
              LLR
              <select id="eloTypeWDL">
                <option value="nElo">nElo</option>
                <option value="Elo">Elo</option>
                <option value="BayesElo">BayesElo</option>
              </select>
            </label>

            <label>
              Margin
              <select id="errormarginWDL">
                <option value="CI95">95% CI</option>
                <option value="CI80">80% CI</option>
                <option value="CI85">85% CI</option>
                <option value="CI90">90% CI</option>
                <option value="CI99">99% CI</option>
                <option value="sigma1">1-sigma</option>
                <option value="sigma2">2-sigma</option>
                <option value="sigma3">3-sigma</option>
                <option value="sigma4">4-sigma</option>
                <option value="sigma5">5-sigma</option>
                <option value="sigma6">6-sigma</option>
              </select>
            </label>
          </fieldset>

          <button type="submit">Calculate Elo</button>
          <output id="WDLElo"></output>
        </form>
      </section>

      <section class="input-group">
        <h3>Pentanomial Model</h3>
        <form
          onsubmit="
            event.preventDefault();
            calculatePentanomialElo();
          "
        >
          <fieldset>
            <label>
              Input Format:
              <select
                id="pentaInputMode"
                onchange="togglePentaInputMode()"
                required
              >
                <option value="array">Array Input</option>
                <option value="separate">Separate Inputs</option>
              </select>
            </label>
          </fieldset>
          <fieldset>
            <legend>Results</legend>

            <div id="pentaSingleInputs" style="display: none">
              <label>
                LL
                <input id="LL" type="number" min="0" />
              </label>
              <label>
                LD
                <input id="LD" type="number" min="0" />
              </label>
              <label>
                DD / WL
                <input id="WLDD" type="number" min="0" />
              </label>
              <label>
                WD
                <input id="WD" type="number" min="0" />
              </label>
              <label>
                WW
                <input id="WW" type="number" min="0" />
              </label>
            </div>

            <label id="pentaArrayLabel">
              Array Input
              <input
                id="pentaArray"
                type="text"
                placeholder="[LL,LD,WLDD,WD,WW]"
                required
              />
            </label>
          </fieldset>

          <fieldset>
            <legend>Parameters</legend>

            <label>
              elo0
              <input
                id="elo0penta"
                type="number"
                step="any"
                value="0"
                required
              />
            </label>

            <label>
              elo1
              <input
                id="elo1penta"
                type="number"
                step="any"
                value="0"
                required
              />
            </label>

            <label>
              LLR
              <select id="eloTypePenta">
                <option value="nElo">nElo</option>
                <option value="Elo">Elo</option>
              </select>
            </label>

            <label>
              Margin
              <select id="errormarginPenta">
                <option value="CI95">95% CI</option>
                <option value="CI80">80% CI</option>
                <option value="CI85">85% CI</option>
                <option value="CI90">90% CI</option>
                <option value="CI99">99% CI</option>
                <option value="sigma1">1-sigma</option>
                <option value="sigma2">2-sigma</option>
                <option value="sigma3">3-sigma</option>
                <option value="sigma4">4-sigma</option>
                <option value="sigma5">5-sigma</option>
                <option value="sigma6">6-sigma</option>
              </select>
            </label>
          </fieldset>

          <button type="submit">Calculate Elo</button>
          <output id="PentanomialElo"></output>
        </form>
      </section>

      <section class="input-group">
        <h3>SPRT</h3>
        <form
          onsubmit="
            event.preventDefault();
            calculateSPRT();
          "
        >
          <fieldset>
            <legend>Inputs</legend>

            <label>
              Elo
              <input id="Elo" type="number" step="any" required />
            </label>

            <label>
              Variance
              <input id="Variance" type="number" step="any" required />
            </label>

            <label>
              elo0
              <input id="elo0" type="number" step="any" value="0" required />
            </label>

            <label>
              elo1
              <input id="elo1" type="number" step="any" value="0" required />
            </label>

            <label>
              alpha
              <input
                id="alpha"
                type="number"
                step="any"
                value="0.05"
                required
              />
            </label>

            <label>
              beta
              <input id="beta" type="number" step="any" value="0.05" required />
            </label>
          </fieldset>

          <fieldset>
            <label>
              Model
              <select id="eloType">
                <option value="nElo">normalized (nElo)</option>
                <option value="Elo">logistic (Elo)</option>
              </select>
            </label>
          </fieldset>

          <fieldset>
            <label>
              Data
              <select id="model">
                <option value="Pentanomial">Pentanomial</option>
                <option value="WDL">WDL</option>
              </select>
            </label>
          </fieldset>

          <button type="submit">Calculate SPRT</button>
          <output id="SPRT"></output>
        </form>
      </section>
    </main>

    <footer>
      <p>
        This page calculates Elo differences and match statistics between two
        chess engines or players based on match results.<br />
        Written by justanothertester from Stockfish Discord.
      </p>
    </footer>

    <div id="resultModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <div id="modalBody"></div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
